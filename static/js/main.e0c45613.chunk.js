(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{72:function(e,t,c){},90:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(18),s=c.n(r),i=(c(72),c(6)),o=c(96),l=c(97),u=c(103),j=c(21),b=c(102),d=c(100),h=c(98),O=c(101),p=c(99),f=c(106),x=c(95),g=c(104),v=c(107),m=c(65),k=c.n(m),w=c(1),S=function(e){return Object(w.jsx)("div",{className:"text-wrapper",children:Object(w.jsx)("div",{className:"text",children:e})})},y=function(e){if(void 0===e)return"";var t,c,n;if(e.length<6){for(var a=1;e.length<22;)a>0?e+=".":e="."+e,a*=-1;t=e.slice(0,e.length/2),c=e.slice(e.length/2,e.length),n="<span class='pivot-pre'>"+t.slice(0,t.length-1),n+="</span><span class='pivot-mid'>",n+=t.slice(t.length-1,t.length),n+="</span><span class='pivot-post'>",n+=c,n+="</span>"}else{var r=22-(e.length+7);t=(e="......."+e+".".repeat(r)).slice(0,e.length/2),c=e.slice(e.length/2,e.length),n="<span class='pivot-pre'>"+t.slice(0,t.length-1),n+="</span><span class='pivot-mid'>",n+=t.slice(t.length-1,t.length),n+="</span><span class='pivot-post'>",n+=c,n+="</span>"}return n=n.replace(/\./g,"<span class='invisible'>.</span>"),Object(w.jsx)("div",{className:"text-wrapper",children:Object(w.jsx)(k.a,{className:"text",jsx:n})})},C=c(93),R=function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)("p",{children:"This is a speed reader application which can be controlled by commands in the script. Write or copy a script to the editor and press the button to process the script. In the settings you can set the amount of loops the script does, and center the words using a pivot function."}),Object(w.jsx)("p",{children:"The following options are currently available (More Options are in the making, as well as an Strobe effect for this application):"}),Object(w.jsxs)(C.a,{bordered:!0,children:[Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"key (default)"}),Object(w.jsx)("th",{children:"example"}),Object(w.jsx)("th",{children:"description"})]})}),Object(w.jsxs)("tbody",{children:[Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:"wpm (300)"}),Object(w.jsx)("td",{children:"<wpm=300>"}),Object(w.jsx)("td",{children:"Sets the words per minute the script displays."})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:"halt"}),Object(w.jsx)("td",{children:"<halt=3>"}),Object(w.jsx)("td",{children:"Makes the script pause for x seconds, displaying the last word previous to the command."})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:"break"}),Object(w.jsx)("td",{children:"<break=3>"}),Object(w.jsx)("td",{children:"Makes the script pause for x seconds, showing no word during the pause."})]}),Object(w.jsxs)("tr",{children:[Object(w.jsx)("td",{children:"fontsize (10vw)"}),Object(w.jsx)("td",{children:"<fontize=50px>"}),Object(w.jsx)("td",{children:"Sets the fontsize for the words. Any css values are accepted."})]})]})]}),Object(w.jsx)("p",{children:"This app is mainly to showcase the underlying script reader hook. It is written with React and Typescript. Feel free to use it in your own application, if you have any questions feel free to ask :)"})]})},N=c(43),E=c.n(N),I=c(94),L=c(66),M=c(105),T=c(2),P=function(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(i.a)(r,2),o=s[0],l=s[1],u=Object(n.useState)(!1),j=Object(i.a)(u,2),b=j[0],d=j[1],h=Object(n.useRef)(300),O=Object(n.useRef)(setInterval((function(){}),1e6)),p=Object(n.useCallback)((function(){clearInterval(O.current),d(!1)}),[]),f=Object(n.useCallback)((function(){d(!0),clearInterval(O.current),O.current=setInterval((function(){a((function(e){return e+1}))}),6e4/h.current)}),[]),x=Object(n.useCallback)((function(){l(!0),d(!0),O.current=setInterval((function(){a((function(e){return e+1}))}),6e4/h.current)}),[]),g=Object(n.useCallback)((function(){clearInterval(O.current),d(!1),l(!1)}),[]),v=Object(n.useCallback)((function(){clearInterval(O.current),l(!1),d(!1),a(0)}),[]),m=Object(n.useCallback)((function(e){h.current=e,b&&f()}),[b,f]);return{index:c,wpm:h.current,isActive:o,isRunning:b,handleStart:x,handlePause:p,handleResume:f,handleReset:v,handleStop:g,setWPM:m}},F=c(63),A={open:"<",assign:"=",seperator:",",close:">"},z=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},W=function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=P(),a=c.index,r=c.handleStop,s=c.handleReset,o=Object(n.useState)(e),l=Object(i.a)(o,2),u=l[0],b=l[1],d=Object(n.useState)([]),h=Object(i.a)(d,2),O=h[0],p=h[1],f=Object(n.useRef)(a),x=Object(n.useMemo)((function(){return Object(T.a)(Object(T.a)({},A),t.operators)}),[t.operators]),g=Object(n.useRef)(Object(T.a)({},t.managers)),v=Object(n.useRef)([]),m=Object(n.useRef)([]),k=Object(n.useCallback)((function(e){var t,c=e,n=Object(F.a)(O);try{for(n.s();!(t=n.n()).done;){var a=t.value;if(""!==a.regex){var r="string"===typeof a.regex?new RegExp(z(a.regex),"g"):a.regex;c=c.replace(r," "+x.open+a.option+x.assign+a.value+x.close+" ")}}}catch(i){n.e(i)}finally{n.f()}var s=x.open+"[^"+x.close+"]*"+x.close;return c.replace(new RegExp(s,"g"),(function(e){return e.replace(/\s+/g,"")})).split(/\s+/g).map((function(e){return E.a.trim(e,".,")}))}),[x,O]),w=Object(n.useCallback)((function(e){g.current=Object(T.a)({},e)}),[]),S=Object(n.useCallback)((function(e){g.current=Object(T.a)(Object(T.a)({},g.current),e)}),[]),y=Object(n.useCallback)((function(){m.current=["",""].concat(Object(j.a)(k(u))),s()}),[s,k,u]);return Object(n.useEffect)((function(){y()}),[y]),Object(n.useEffect)((function(){f.current=a;var e=m.current[a+1];if(e&&e.startsWith(x.open+"")){for(var t=new RegExp("([^"+x.open+x.seperator+x.assign+"]+)"+x.assign+"([^"+x.seperator+x.close+"]+)","g"),c=e.matchAll(t),n=c.next();!n.done;){if(g.current[n.value[1]]){var r=g.current[n.value[1]];v.current.push({delay:r[1],func:r[0],arg:n.value[2]})}n=c.next()}m.current=m.current.filter((function(e,t){return t!==a+1}))}var s,i=Object(F.a)(v.current);try{for(i.s();!(s=i.n()).done;){var o=s.value;0===o.delay&&o.func(o.arg)}}catch(l){i.e(l)}finally{i.f()}v.current=v.current.filter((function(e){return 0!==e.delay})),v.current.forEach((function(e){return--e.delay}))}),[a,x]),Object(n.useEffect)((function(){a>=m.current.length&&r()}),[r,a]),Object(T.a)(Object(T.a)({},c),{},{script:u,index:f.current,indexRef:f,currentWord:m.current[a],wordsRef:m,operators:x,options:Object.keys(g.current),resetScript:y,setScript:b,setMacros:p,setOptionManagers:w,addOptionManagers:S})}(e),c=t.index,a=t.currentWord,r=t.indexRef,s=t.wordsRef,o=t.isActive,l=t.setWPM,u=t.handleStart,b=t.handleStop,d=t.resetScript,h=t.handlePause,O=t.handleResume,p=t.addOptionManagers,f=Object(n.useState)(Object(w.jsx)(w.Fragment,{})),x=Object(i.a)(f,2),g=x[0],v=x[1],m=Object(n.useState)((function(){return S})),k=Object(i.a)(m,2),y=k[0],C=k[1],R=Object(n.useRef)(0),N=Object(n.useRef)("10vw"),I=Object(n.useRef)(setTimeout((function(){}),1e6)),L=Object(n.useCallback)((function(e){N.current=e}),[]),M=Object(n.useCallback)((function(e){R.current=e}),[]),W=Object(n.useCallback)((function(e){s.current.splice(r.current+1,0,"","<halt=".concat(e,">"))}),[r,s]),K=Object(n.useCallback)((function(e){h(),clearTimeout(I.current),I.current=setTimeout((function(){O()}),1e3*e)}),[h,O]);return Object(n.useEffect)((function(){p({wpm:[l,1],halt:[K,0],break:[W,0],fontsize:[L,1]})}),[p,W,K,L,l]),Object(n.useEffect)((function(){!o&&0!==R.current&&c>=s.current.length&&(R.current=R.current-1,d(),u())}),[c,b,u,d,s,o]),Object(n.useEffect)((function(){v(Object(w.jsx)("div",{className:"h-100 w-100",style:{fontSize:N.current},children:y(a)}))}),[a,y]),Object(T.a)(Object(T.a)({},t),{},{index:c,element:g,setWPM:l,breakFor:W,setLoops:M,setPivotFunction:C})},K="This is an example how to use this app. <break=1>\nSet the speed by using the wpm option to have <wpm=600> really fast speed or <wpm=100> very slow speed. <wpm=300, break=1>\nYou can also put multiple options in the tags separated by a comma. <break=1>\n",U=Object(n.createContext)(void 0),G=function(e){var t=e.children,c=W(K);return Object(w.jsx)(U.Provider,{value:c,children:t})},H=function(){var e=Object(n.useContext)(U);if(void 0===e)throw new Error("useContextScript must be used within a ScriptProvider");return e},B=function(e){var t=H().options,c=e.macro,a=c.id,r=c.regex,s=e.onChange,o=Object(n.useState)("string"!==typeof r),l=Object(i.a)(o,2),u=l[0],j=l[1],b=Object(n.useState)(u?r.toString().substring(1,r.toString().length-2):r),d=Object(i.a)(b,2),h=d[0],O=d[1],f=Object(n.useState)(e.macro.option),g=Object(i.a)(f,2),v=g[0],m=g[1],k=Object(n.useState)(e.macro.value),S=Object(i.a)(k,2),y=S[0],C=S[1],R=Object(n.useMemo)((function(){return Object(N.debounce)((function(e){return s(e)}),500)}),[s]);return Object(n.useEffect)((function(){R({id:a,regex:u?new RegExp(h,"g"):h,option:v,value:y})}),[h,v,y,R,a,u]),Object(w.jsxs)(I.a,{className:"gx-1 align-items-end",children:[Object(w.jsx)(L.a,{xs:12,sm:!0,children:Object(w.jsxs)(p.a.Group,{children:[Object(w.jsx)(p.a.Label,{className:"mb-0",children:"Replace"}),Object(w.jsxs)(M.a,{children:[Object(w.jsx)(M.a.Checkbox,{onChange:function(e){j(e.target.checked)},value:u}),u&&Object(w.jsx)(M.a.Text,{children:"/"}),Object(w.jsx)(p.a.Control,{value:h.toString(),"aria-label":"macro-value",onChange:function(e){O(e.target.value)}}),u&&Object(w.jsx)(M.a.Text,{children:"/"})]})]})}),Object(w.jsx)(L.a,{children:Object(w.jsxs)(p.a.Group,{children:[Object(w.jsx)(p.a.Label,{className:"mb-0",children:"with"}),Object(w.jsxs)(M.a,{children:[Object(w.jsx)(M.a.Text,{children:"<"}),Object(w.jsx)(p.a.Select,{value:v,"aria-label":"option",onChange:function(e){m(e.target.value)},children:t.map((function(e){return Object(w.jsx)("option",{value:e,children:e},e)}))}),Object(w.jsx)(M.a.Text,{children:"="}),Object(w.jsx)(p.a.Control,{value:y,"aria-label":"value",onChange:function(e){C(e.target.value)}}),Object(w.jsx)(M.a.Text,{children:">"})]})]})}),Object(w.jsx)(L.a,{xs:1,className:"w-auto",children:Object(w.jsx)(x.a,{variant:"danger",onClick:function(){return e.onRemove(e.macro.id)},children:Object(w.jsx)("i",{className:"bi-trash"})})})]})},J=function(e){var t=Object(n.useState)("howTo"),c=Object(i.a)(t,2),a=c[0],r=c[1],s=H(),l=s.setLoops,u=Object(n.useState)(K),m=Object(i.a)(u,2),k=m[0],C=m[1],N=Object(n.useState)(0),E=Object(i.a)(N,2),I=E[0],L=E[1],M=Object(n.useState)(!1),T=Object(i.a)(M,2),P=T[0],F=T[1],A=Object(n.useState)(null),z=Object(i.a)(A,2),W=z[0],U=z[1],G=Object(n.useState)(!1),J=Object(i.a)(G,2),$=J[0],q=J[1],D=Object(n.useState)([{id:"t",regex:"...",option:"break",value:"2"}]),Y=Object(i.a)(D,2),Q=Y[0],V=Y[1],X=function(e){V((function(t){var c=t.findIndex((function(t){return t.id===e.id}));return c>=0&&t.splice(c,1,e),t}))},Z=function(e){V((function(t){var c=t.findIndex((function(t){return e===t.id}));return c>=0&&t.splice(c,1),Object(j.a)(t)}))};return Object(n.useEffect)((function(){l(I)}),[I,l]),Object(w.jsxs)(b.a,{show:e.show,backdrop:!1,fullscreen:"lg-down",size:"lg",scrollable:!0,centered:!0,dialogClassName:"align-items-stretch",children:[Object(w.jsx)(d.a,{bg:"light",children:Object(w.jsxs)(o.a,{fluid:!0,children:[Object(w.jsxs)(h.a,{className:"me-auto",onSelect:function(e,t){null!==e&&r(e)},defaultActiveKey:a,children:[Object(w.jsx)(h.a.Link,{eventKey:"editor",children:"Editor"}),Object(w.jsx)(h.a.Link,{eventKey:"macros",children:"Macros"}),Object(w.jsx)(h.a.Link,{eventKey:"settings",children:"Settings"}),Object(w.jsx)(h.a.Link,{eventKey:"howTo",children:"How to use"})]}),Object(w.jsx)("button",{className:"btn-close",onClick:function(){return e.onHide()}})]})}),Object(w.jsx)(b.a.Body,{children:Object(w.jsxs)(O.a.Content,{className:"h-100",children:[Object(w.jsx)(O.a.Pane,{active:"editor"===a,className:"h-100",children:Object(w.jsx)("div",{className:"d-flex flex-column h-100",children:Object(w.jsx)(p.a.Control,{as:"textarea",value:k,style:{resize:"none",flexGrow:1},autoFocus:!0,onChange:function(e){C(e.target.value)}})})}),Object(w.jsx)(O.a.Pane,{active:"macros"===a,children:Object(w.jsxs)(f.a,{gap:2,children:[Object.values(Q).map((function(e){return Object(w.jsxs)(n.Fragment,{children:[Object(w.jsx)(B,{macro:e,onChange:X,onRemove:Z}),Object(w.jsx)("hr",{className:"m-0"})]},e.id)})),Object(w.jsx)(x.a,{className:"mb-2",variant:"primary",onClick:function(){V((function(e){return[].concat(Object(j.a)(e),[{id:Date.now().toString(),regex:"",option:"wpm",value:"300"}])}))},children:"Add Macro"})]})}),Object(w.jsxs)(O.a.Pane,{active:"settings"===a,children:[Object(w.jsx)(g.a,{className:"mb-4 border-0",children:Object(w.jsxs)(v.a,{children:[Object(w.jsxs)(v.a.Item,{children:[Object(w.jsx)(p.a.Label,{children:"Number of Loops"}),Object(w.jsx)(p.a.Control,{type:"number",value:I,onChange:function(e){e.target.validity.valid&&L(Number(e.target.value))},max:10,min:0}),Object(w.jsx)(p.a.Text,{children:"Number of times the script should be repeated."})]}),Object(w.jsx)(v.a.Item,{children:Object(w.jsx)(p.a.Check,{type:"checkbox",id:"use-pivot",label:"Use pivot centering",checked:P,onChange:function(e){F(e.target.checked),s.setPivotFunction((function(){return e.target.checked?y:S}))}})})]})}),Object(w.jsx)(g.a,{className:"mb-4 border-0",children:Object(w.jsxs)(v.a,{children:[Object(w.jsxs)(v.a.Item,{children:[Object(w.jsxs)(p.a.Group,{className:"mb-3",controlId:"formFile",children:[Object(w.jsx)(p.a.Label,{children:"Set background file"}),Object(w.jsx)(p.a.Control,{type:"file",accept:"image/*",onChange:function(t){t.target.files&&e.onFileChange&&(U(t.target.files[0]),e.onFileChange(t.target.files[0]))}})]}),W&&Object(w.jsx)("img",{className:"previewImg",src:URL.createObjectURL(W),alt:"preview"})]}),Object(w.jsx)(v.a.Item,{children:Object(w.jsx)(p.a.Check,{type:"checkbox",id:"scale-img",label:"Scale image to full background",checked:$,disabled:!W,onChange:function(t){q(t.target.checked),e.onCoverChange&&e.onCoverChange(t.target.checked)}})})]})})]}),Object(w.jsx)(O.a.Pane,{active:"howTo"===a,children:Object(w.jsx)(R,{})})]})}),Object(w.jsxs)(b.a.Footer,{children:[Object(w.jsx)(x.a,{variant:s.script===k?"secondary":"success",onClick:function(){s.setScript(k),s.setMacros(Q)},children:s.script===k?"Script processed":"Process Script"}),Object(w.jsx)(x.a,{variant:"primary",onClick:function(){e.onHide(),s.isActive?s.handleResume():(0!==s.index&&s.resetScript(),s.handleStart())},children:s.isActive?"Resume":"Start"})]})]})},$=function(){var e=Object(n.useState)(!0),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)(!1),s=Object(i.a)(r,2),j=s[0],b=s[1],d=Object(n.useState)(null),h=Object(i.a)(d,2),O=h[0],p=h[1],f=Object(n.useState)(!1),x=Object(i.a)(f,2),g=x[0],v=x[1],m=H(),k=m.element,S=m.isActive,y=m.handlePause,C=m.handleResume;Object(n.useEffect)((function(){var e=function(e){"Escape"===e.key&&(y(),a(!0)),"p"===e.key&&S&&(j?(C(),b(!1)):(y(),b(!0)))};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}}),[y,C,S,j]);var R=Object(n.useMemo)((function(){if(O)return Object(w.jsx)("img",{className:"background",src:URL.createObjectURL(O),alt:"background file"})}),[O]);return Object(w.jsxs)(o.a,{className:"h-100 w-100 p-0",fluid:!0,children:[Object(w.jsx)("div",{className:"background-wrapper "+(g?"cover":""),children:!c&&R}),S&&k,Object(w.jsx)(l.a,{className:"p-3",position:"bottom-center",children:Object(w.jsx)(u.a,{show:!c&&j,children:Object(w.jsx)(u.a.Body,{children:"Script is paused"})})}),Object(w.jsx)(J,{show:c,onHide:function(){return a(!1)},onFileChange:function(e){e&&p(e)},onCoverChange:function(e){v(e)}})]})};s.a.render(Object(w.jsx)(a.a.StrictMode,{children:Object(w.jsx)(G,{children:Object(w.jsx)($,{})})}),document.getElementById("root"))}},[[90,1,2]]]);